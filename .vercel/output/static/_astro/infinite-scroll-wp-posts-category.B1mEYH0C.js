import{b as I,j as t,s as U,a as j,W as d,P as h}from"./wp-post-card.CHBBOP5o.js";import{r as l}from"./index.SSXOyoI7.js";const p=x=>{const{id:i,posts:c,pageInfo:f,filteredQueries:m,language:o}=x,n=l.useRef(null),[s,y]=l.useState(f),[v,C]=l.useState(c),g=l.useCallback(async e=>{const[r]=e;if(r?.isIntersecting&&s.hasNextPage==!0){const u=await I(i,s.endCursor,o.toLocaleUpperCase());C(a=>[...a,...u.posts]),y(u.pageInfo)}},[i,o,s.endCursor,s.hasNextPage]);return l.useEffect(()=>{const e=n.current,r=new IntersectionObserver(g,{root:null,rootMargin:"-500px 0px 0px 0px",threshold:0});return n.current&&r.observe(n.current),()=>{e&&r.unobserve(e)}},[g,c]),t.jsxs("div",{children:[v.map((e,r)=>{const u=U(e.uri,e.slug),{primaryCategory:a}=j(e.categories);return m?.some(P=>e.title.toLowerCase().includes(P.toLowerCase()))===!0?null:(r+1)%5===0?t.jsx(d,{type:"vertical",locale:o,src:e.featuredImage?.sourceUrl,alt:e.featuredImage?.altText,slug:e.slug,uri:u,title:e.title,excerpt:e.excerpt,authorName:e.author.name,authorAvatarUrl:e.author.avatar.url,authorUri:`/author/${e.author.slug}`,date:e.date,categoryName:a?.name,categoryUri:`/${a?.slug}`},e.id):t.jsx(d,{type:"horizontal",locale:o,src:e.featuredImage?.sourceUrl,alt:e.featuredImage?.altText,slug:e.slug,uri:u,title:e.title,excerpt:e.excerpt,authorName:e.author.name,authorAvatarUrl:e.author.avatar.url,authorUri:`/author/${e.author.slug}`,date:e.date,categoryName:a?.name,categoryUri:`/${a?.slug}`},e.id)}),s.hasNextPage&&t.jsxs("div",{ref:n,children:[t.jsx(h,{}),t.jsx(h,{})]})]})};export{p as default};
